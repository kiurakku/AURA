# –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó "Not Found"

## –ü—Ä–æ–±–ª–µ–º–∞
–õ–æ–≥—ñ–Ω—É–≤–∞–Ω–Ω—è –∑ Telegram –∞–∫–∞—É–Ω—Ç—É –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–ª–æ, –ø–æ–≤–µ—Ä—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ `{"error": "Not Found"}`.

## –ü—Ä–∏—á–∏–Ω–∏
1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL –∑–∞–ø–∏—Ç—É**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è `/api/auth` –∑–∞–º—ñ—Å—Ç—å `/auth` (baseURL –≤–∂–µ –º—ñ—Å—Ç–∏—Ç—å `/api`)
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ 404**: SPA route –ø–µ—Ä–µ—Ö–æ–ø–ª—é–≤–∞–≤ API –∑–∞–ø–∏—Ç–∏

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. Frontend (`frontend/src/App.jsx`)
- –ó–º—ñ–Ω–µ–Ω–æ `/api/auth` –Ω–∞ `/auth` (baseURL –≤–∂–µ –º—ñ—Å—Ç–∏—Ç—å `/api`)
- –î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 2. Frontend (`frontend/src/utils/api.js`)
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ baseURL: `/api` –≤ production –∑–∞–º—ñ—Å—Ç—å –ø–æ—Ä–æ–∂–Ω—å–æ–≥–æ —Ä—è–¥–∫–∞
- –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–µ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è URL: `/api` + `/auth` = `/api/auth`

### 3. Backend (`backend/server.js`)
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–æ–±–∫–∏ —Ä–æ—É—Ç—ñ–≤
- 404 handler —Ç–µ–ø–µ—Ä –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—î API –∑–∞–ø–∏—Ç–∏
- SPA route –Ω–µ –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î API –∑–∞–ø–∏—Ç–∏

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

–ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ Telegram WebApp**
2. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ DevTools (F12)**
3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Console** - –º–∞—é—Ç—å –±—É—Ç–∏ –ª–æ–≥–∏:
   - `üîê Authenticating user...`
   - `üì§ Sending request to /api/auth`
   - `‚úÖ User authenticated`

4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Network tab**:
   - –ó–∞–ø–∏—Ç –¥–æ `/api/auth` –º–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ 200 OK
   - –í—ñ–¥–ø–æ–≤—ñ–¥—å –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ `{"success": true, "user": {...}}`

## –Ø–∫—â–æ –≤—Å–µ —â–µ –Ω–µ –ø—Ä–∞—Ü—é—î

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
fly logs --app auraslots
```

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ initData –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è:**
   - –í Console –º–∞—î –±—É—Ç–∏: `üìã initData length: [—á–∏—Å–ª–æ]`
   - –Ø–∫—â–æ 0 - initData –Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–æ –∑ Telegram

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ CORS:**
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫ `x-telegram-init-data` –º–∞—î –±—É—Ç–∏ –¥–æ–∑–≤–æ–ª–µ–Ω–∏–π
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `backend/server.js`

4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:**
```bash
fly secrets list --app auraslots
```
–ú–∞—î –±—É—Ç–∏ `TELEGRAM_BOT_TOKEN`

## –î–µ–ø–ª–æ–π

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:

```bash
# –ó–±—ñ–ª–¥–∏—Ç–∏ frontend
cd frontend
npm run build
cd ..

# –ó–∞–¥–µ–ø–ª–æ—ó—Ç–∏
fly deploy --app auraslots
```

## –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:
- ‚úÖ –õ–æ–≥—ñ–Ω—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è/–∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ë–î
- ‚úÖ –ë–∞–ª–∞–Ω—Å –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
- ‚úÖ –ù–µ–º–∞—î –ø–æ–º–∏–ª–æ–∫ "Not Found"
